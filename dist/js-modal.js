(()=>{"use strict";const e=function(e,t="inline-block",n=400,o){if(e)if(e.style.opacity=e.style.opacity||0,e.style.display=t,e.style.visibility="visible",n){let t=parseFloat(e.style.opacity)||0;const i=setInterval((function(){t+=20/n,t>=1&&(clearInterval(i),t=1,"function"==typeof o&&o()),e.style.opacity=t}),20)}else e.style.opacity=1},t=function(e,t=400,n){if(e)if(t){let o=1;const i=setInterval((function(){o-=20/t,o<=0&&(clearInterval(i),o=0,e.style.display="none",e.style.visibility="hidden","function"==typeof n&&n()),e.style.opacity=o}),20)}else e.style.opacity=0,e.style.display="none",e.style.visibility="hidden"},n=function(){var n={containerClasses:["mask","blocker","current"],closeClass:"close-modal",modalClass:"modal",fadeDuration:260,fadeDelay:.6,showClose:!0,escapeClose:!0,clickClose:!0,allowDrag:!1},o=[];function i(e){"Escape"===e.key&&l()}function l(){if(o.length){var e=o[o.length-1]._options;e.escapeClose&&document.removeEventListener("keydown",i);var n,l,a=o[o.length-1].container,s=a.querySelector(`.${e.modalClass}`);t(s,e.fadeDuration),t(a,e.fadeDuration),1===o.length&&(n=Math.abs(document.body?.getBoundingClientRect()?.top)||0,(l=document.body.style).overflowX="unset",l.overflowY="unset",l.position="static",l.width="auto",window.scrollTo(0,n)),o.pop(),setTimeout((function(){document.body.appendChild(s),e.showClose&&s.querySelector(`.${e.closeClass}`).remove(),a.remove();const t=new CustomEvent("modal:after-close");s.dispatchEvent(t)}),e.fadeDuration)}}return{open:function(t,a={}){var s=function(e){var t=JSON.parse(JSON.stringify(n));if("object"==typeof e)for(var o in e)t[o]=e[o];return t}(a);if(t.classList.add(s.modalClass),s.showClose){var r=function(e=n){var t=document.createElement("a");return t.href="javascript:;",t.classList.add(e.closeClass),t.addEventListener("click",(function(){l()})),t}(s);t.appendChild(r)}var c,d,u=function(e=n){var t=document.createElement("div");return e.containerClasses.forEach((function(e){t.classList.add(e)})),t}(s);document.body.appendChild(u),u.appendChild(t),s.clickClose&&u.addEventListener("click",(function(e){e.target===u&&l()})),s.escapeClose&&document.addEventListener("keydown",i),0===o.length&&(c=document.body?.getBoundingClientRect()?.top||0,(d=document.body.style).top=`${c}px`,d.width="100%",d.overflowX="hidden",d.overflowY="scroll",d.position="fixed"),e(u,"",s.fadeDuration),s.fadeDelay?setTimeout((function(){e(t,"inline-block",s.fadeDuration)}),s.fadeDelay*s.fadeDuration):e(t,"inline-block",s.fadeDuration),o.push({container:u,_options:s}),s.allowDrag&&function(){if(o.length){var e=o[o.length-1]._options;if(e&&e.allowDrag){var t=o[o.length-1].container.querySelector(`.${e.modalClass}`);t.style.left="0px",t.style.top="0px",t.parentElement.style.overflow="hidden";var n=0,i=0,l=0,a=0;t.addEventListener("mousedown",(function(e){var o;(o=e.target)&&-1!==["INPUT","TEXTAREA","SELECT"].indexOf(o.nodeName)||(c()&&document.body.classList.add("ie-select--disabled"),function(e){var o=Number(t.style.left.replace("px","")),l=Number(t.style.top.replace("px",""));n=e.clientX-o,i=e.clientY-l}(e),document.addEventListener("mousemove",r),document.addEventListener("mouseup",s))}))}}function s(){c()&&document.body.classList.remove("ie-select--disabled"),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",s)}function r(e){c()&&e.stopPropagation(),e.preventDefault();var o=function(e){var o=e.clientX-n,l=e.clientY-i,a=(s=t.clientWidth,r=t.clientHeight,c=window.innerWidth,d=window.innerHeight,u=Math.floor((c-s)/2),f=Math.floor((d-r)/2),{left:u+s-30,top:f+r-30});var s,r,c,d,u,f;return o<0?Math.abs(o)>a.left&&(o=-a.left):o>a.left&&(o=a.left),l<0?Math.abs(l)>a.top&&(l=-a.top):l>a.top&&(l=a.top),{left:o,top:l}}(e);l=o.left,a=o.top,t.style.left=l+"px",t.style.top=a+"px"}function c(){var e="undefined"!=typeof window&&window.navigator.userAgent.toLowerCase();return e&&/msie|trident/.test(e)}}()},close:l,setOptions:function(e){for(var t in e)n[t]&&(n[t]=e[t])}}}();window.modal=n})();